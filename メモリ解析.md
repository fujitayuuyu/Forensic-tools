# 1 メモリ解析の概要
## (1) 主な用途
実行中のプロセス等の調査
## (2) メモリ解析によって解明できるかもしれない事項
* メモリダンプ時、実行中だったプロセス
* 実行中プロセスの通信先IPアドレスや使用ポート番号
* そのほか(DLL、レジストリなど)

## (3) メモリ解析の方法
### ◇ オンライン(解析対象の端末上)で解析するとき
タスクマネージャ、コマンドプロンプト、Power Shell等

### ◇ オフライン(解析用端末上)で解析するとき
メモリダンプを取得後、解析端末にファイルを移行して解析する。

### ■ オンライン解析の問題点
* 解析時に、ログが汚染されてしまう(ほかのログがそれによって消えてしまうかもしれない)。
* 時間がたつことで、状況が変わってしまう(攻撃者は、動くだろうし、マルウェアももちろん移動したりする)
## (4) メモリ解析に使用する代表的なツール
* Volatility Framework
* Memorize

# 2 Volatility FrameWork
必要なプロファイルを利用することで様々なOSのメモリフォレンジックができる。

## (1) 取得可能な情報
| 項目               | 具体例                               |
|--------------------|--------------------------------------|
| プロセス状況       | プロセスの親子関係                   |
| ネットワークの接続状況 | 接続先、接続元IPアドレス/ポート番号     |
| コマンド履歴       | 過去に実行したコマンドの一覧         |
| メモリ内の情報     | 暗号化に用いた鍵や、接続先のサーバ名等 |

## (2) Volatilityのインストール

## (3) Volatilityの操作
### ◇ 解析対象ファイルのOS情報の取得
```
volatility.exe
```
### ◇ 通信情報を確認
利用モジュール：netscan
### ◇ プロセスの親子関係を調査
利用モジュール：pstree
### ◇ プロセスの一覧を調査
利用モジュール：pslist
### ◇ プロセスの実行ファイルを抽出
利用モジュール：procdump
### ◇ プロセスのメモリを抽出
利用モジュール：memdump
### ◇ プロセスの実行記録の表示(実行時刻等がわかる)
利用モジュール：shimcache
### ◇ コマンドラインを調査
利用モジュール：
